Not much to read here:

we offer the predict method to gain access to the predictions of a specific KPI:

@app.post("/data-processing/predict")
def predict(JSONS: Json_in, api_key: str = Depends(get_verify_api_key(["ai-agent"]))): # to add or modify the services allowed to access the API, add or remove them from the list in the get_verify_api_key function e.g. get_verify_api_key(["gui", "service1", "service2"])

Example of working POSTMAN call:

POST: http://localhost:10030/data-processing/predict
BODY: 
{
    "value": [
        {
            "Machine_name": "Assembly Machine 2",
            "KPI_name": "idle_time_avg",
            "Date_prediction": 5
        },
        {
            "Machine_name": "Assembly Machine 2",
            "KPI_name": "consumption_avg",
            "Date_prediction": 5
        }
    ]
}
HEADERS: x-api-key 'your API key'  <- if you need us ask us to be added

RESPONSE:

{
    "result": [
        {
            "Machine_name": "Assembly Machine 2",
            "KPI_name": "idle_time_avg",
            "Predicted_value": [
                513.663818359375,
                400.572998046875,
                457.10784912109375,
                604.1693725585938,
                109.04613494873047
            ],
            "Lower_bound": [
                434.33154296875,
                400.5729675292969,
                330.646484375,
                375.2026672363281,
                93.31342315673828
            ],
            "Upper_bound": [
                660.0414428710938,
                400.5729675292969,
                604.1159057617188,
                980.7742919921875,
                128.77218627929688
            ],
            "Confidence_score": [
                1.0,
                1.0,
                0.97,
                0.97,
                0.98
            ],
            "lemon_explanation": [
                [
                    [
                        "2024-12-05 > 0.00",
                        256.59954722339467
                    ],
                    [
                        "2024-12-10 > 0.00",
                        134.42326344841223
                    ],
                    [
                        "2024-12-07 > 0.00",
                        117.14179331070638
                    ],
                    [
                        "2024-12-04 > 0.00",
                        60.86189483384295
                    ],
                    [
                        "2024-11-30 > 0.00",
                        -46.39477987318243
                    ]
                ],
                [
                    [
                        "2024-12-06 > 0.00",
                        245.0463095366006
                    ],
                    [
                        "2024-12-11 > 0.00",
                        147.5770371211826
                    ],
                    [
                        "2024-12-08 <= 0.00",
                        -111.51951264917494
                    ],
                    [
                        "2024-12-05 > 0.00",
                        56.0635277244376
                    ],
                    [
                        "2024-11-28 > 0.00",
                        42.171119120443166
                    ]
                ],
                [
                    [
                        "2024-12-07 > 0.00",
                        252.53955184658759
                    ],
                    [
                        "2024-12-12 > 0.00",
                        143.8996698572365
                    ],
                    [
                        "2024-12-09 <= 0.00",
                        -122.82074955359593
                    ],
                    [
                        "2024-12-06 > 0.00",
                        54.15189435490408
                    ],
                    [
                        "2024-11-29 > 0.00",
                        44.20664905386436
                    ]
                ],
                [
                    [
                        "2024-12-08 <= 0.00",
                        -252.3807711742104
                    ],
                    [
                        "2024-12-13 > 0.00",
                        140.43633240317217
                    ],
                    [
                        "2024-12-10 > 0.00",
                        125.53621316094
                    ],
                    [
                        "2024-12-07 > 0.00",
                        68.06476980411081
                    ],
                    [
                        "2024-11-30 > 0.00",
                        40.11776731825905
                    ]
                ],
                [
                    [
                        "2024-12-09 <= 0.00",
                        -242.23938055302318
                    ],
                    [
                        "2024-12-14 > 0.00",
                        139.48749465600707
                    ],
                    [
                        "2024-12-11 > 0.00",
                        117.31526172220205
                    ],
                    [
                        "2024-12-08 <= 0.00",
                        -61.37262045850559
                    ],
                    [
                        "2024-12-04 > 0.00",
                        -36.17368606482683
                    ]
                ]
            ],
            "Measure_unit": "s",
            "Date_prediction": [
                "2024-12-11",
                "2024-12-12",
                "2024-12-13",
                "2024-12-14",
                "2024-12-15"
            ],
            "Forecast": true
        },
        {
            "Machine_name": "Assembly Machine 2",
            "KPI_name": "consumption_avg",
            "Predicted_value": [
                0.00038191478233784437,
                0.0003101165348198265,
                8.74063916853629e-05,
                0.0003152558929286897,
                8.451801841147244e-05
            ],
            "Lower_bound": [
                8.451800385955721e-05,
                8.451800385955721e-05,
                8.451800385955721e-05,
                8.451800385955721e-05,
                8.451800385955721e-05
            ],
            "Upper_bound": [
                0.0005612097447738051,
                0.0005554116214625537,
                9.123516065301374e-05,
                0.0005554116214625537,
                8.451800385955721e-05
            ],
            "Confidence_score": [
                1.0,
                1.0,
                1.0,
                1.0,
                1.0
            ],
            "lemon_explanation": [
                [
                    [
                        "2024-12-04 > 0.00",
                        6.991124423745703e-07
                    ],
                    [
                        "2024-11-30 > 0.00",
                        6.884808553479127e-07
                    ],
                    [
                        "2024-11-27 > 0.00",
                        6.874194701271971e-07
                    ],
                    [
                        "2024-11-29 > 0.00",
                        6.864034074178789e-07
                    ],
                    [
                        "2024-11-28 > 0.00",
                        6.726624109473121e-07
                    ]
                ],
                [
                    [
                        "2024-11-30 > 0.00",
                        6.874525392478847e-07
                    ],
                    [
                        "2024-12-10 > 0.00",
                        6.66921775427056e-07
                    ],
                    [
                        "2024-12-11 > 0.00",
                        6.637305447288691e-07
                    ],
                    [
                        "2024-12-06 > 0.00",
                        6.293187070446665e-07
                    ],
                    [
                        "2024-11-29 > 0.00",
                        6.287204539970661e-07
                    ]
                ],
                [
                    [
                        "2024-12-03 > 0.00",
                        9.72584469974452e-09
                    ],
                    [
                        "2024-12-06 > 0.00",
                        9.647525331765677e-09
                    ],
                    [
                        "2024-12-04 > 0.00",
                        9.528202055323404e-09
                    ],
                    [
                        "2024-12-12 > 0.00",
                        9.219445072391086e-09
                    ],
                    [
                        "2024-12-10 > 0.00",
                        9.194455501532214e-09
                    ]
                ],
                [
                    [
                        "2024-12-04 > 0.00",
                        6.904129294096946e-07
                    ],
                    [
                        "2024-12-13 > 0.00",
                        6.854366220049639e-07
                    ],
                    [
                        "2024-11-29 > 0.00",
                        6.80439423267525e-07
                    ],
                    [
                        "2024-12-05 > 0.00",
                        6.739144955284318e-07
                    ],
                    [
                        "2024-12-10 > 0.00",
                        6.710845988120762e-07
                    ]
                ],
                [
                    [
                        "2024-11-30 > 0.00",
                        0.0
                    ],
                    [
                        "2024-12-01 <= 0.00",
                        0.0
                    ],
                    [
                        "2024-12-02 <= 0.00",
                        0.0
                    ],
                    [
                        "2024-12-03 > 0.00",
                        0.0
                    ],
                    [
                        "2024-12-04 > 0.00",
                        0.0
                    ]
                ]
            ],
            "Measure_unit": "kWh",
            "Date_prediction": [
                "2024-12-11",
                "2024-12-12",
                "2024-12-13",
                "2024-12-14",
                "2024-12-15"
            ],
            "Forecast": true
        }
    ]
}